<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="400" viewBox="0 0 800 400" fill="none" xmlns="http://www.w3.org/2000/svg" shape-rendering="geometricPrecision" text-rendering="geometricPrecision">
    <!-- Background -->
    <rect width="800" height="400" rx="15" fill="#f8f9fa"/>
    
    <!-- Title -->
    <text x="400" y="40" font-family="JetBrains Mono, monospace" font-size="22" font-weight="bold" fill="#333333" text-anchor="middle">Task vs Thread: 内存与结构的博弈</text>

    <!-- OS Thread Section -->
    <rect x="50" y="80" width="340" height="280" rx="12" fill="#ffffff" stroke="#e0e0e0" stroke-width="2"/>
    <rect x="50" y="80" width="340" height="40" rx="12" fill="#e3f2fd" stroke="#1565c0" stroke-width="2"/>
    <text x="220" y="105" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" fill="#1565c0" text-anchor="middle">OS Thread (操作系统线程)</text>
    
    <!-- Thread Stack -->
    <rect x="100" y="130" width="240" height="200" rx="4" fill="#bbdefb" stroke="#1976d2" stroke-dasharray="4 2"/>
    <text x="220" y="150" font-family="JetBrains Mono, monospace" font-size="12" fill="#0d47a1" text-anchor="middle">Fixed Stack (~2MB)</text>
    <rect x="120" y="160" width="200" height="150" fill="#ffffff" stroke="#1565c0" stroke-width="1"/>
    <text x="220" y="240" font-family="JetBrains Mono, monospace" font-size="10" fill="#1565c0" text-anchor="middle">预分配的连续内存空间</text>
    <text x="220" y="255" font-family="JetBrains Mono, monospace" font-size="10" fill="#f44336" text-anchor="middle">(无论是否用完都占用)</text>

    <!-- Tokio Task Section -->
    <rect x="410" y="80" width="340" height="280" rx="12" fill="#ffffff" stroke="#e0e0e0" stroke-width="2"/>
    <rect x="410" y="80" width="340" height="40" rx="12" fill="#e8f5e9" stroke="#4caf50" stroke-width="2"/>
    <text x="580" y="105" font-family="JetBrains Mono, monospace" font-size="14" font-weight="bold" fill="#2e7d32" text-anchor="middle">Tokio Task (异步任务)</text>
    
    <!-- Multiple Tasks -->
    <rect x="460" y="130" width="240" height="60" rx="8" fill="#c8e6c9" stroke="#2e7d32" stroke-width="2"/>
    <text x="580" y="155" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" fill="#1b5e20" text-anchor="middle">Task A (State Machine)</text>
    <text x="580" y="175" font-family="JetBrains Mono, monospace" font-size="10" fill="#1b5e20" text-anchor="middle">Size: ~128 Bytes (Heap)</text>

    <rect x="460" y="200" width="240" height="60" rx="8" fill="#c8e6c9" stroke="#2e7d32" stroke-width="2"/>
    <text x="580" y="225" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" fill="#1b5e20" text-anchor="middle">Task B (State Machine)</text>
    <text x="580" y="245" font-family="JetBrains Mono, monospace" font-size="10" fill="#1b5e20" text-anchor="middle">Size: ~256 Bytes (Heap)</text>

    <rect x="460" y="270" width="240" height="60" rx="8" fill="#c8e6c9" stroke="#2e7d32" stroke-width="2"/>
    <text x="580" y="295" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" fill="#1b5e20" text-anchor="middle">Task C (State Machine)</text>
    <text x="580" y="315" font-family="JetBrains Mono, monospace" font-size="10" fill="#1b5e20" text-anchor="middle">Size: ~64 Bytes (Heap)</text>

    <!-- Comparison Note -->
    <text x="400" y="385" font-family="JetBrains Mono, monospace" font-size="12" font-weight="bold" fill="#ff9800" text-anchor="middle">同样的内存，Task 的并发量是 Thread 的数千倍</text>
</svg>
